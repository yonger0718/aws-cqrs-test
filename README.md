# ğŸ”” AWS CQRS + å…­é‚Šå½¢æ¶æ§‹é€šçŸ¥ç³»çµ±

[![CI/CD Pipeline](https://github.com/yonger0718/aws-cqrs-test/actions/workflows/ci.yml/badge.svg)](https://github.com/yonger0718/aws-cqrs-test/actions/workflows/ci.yml)
[![codecov](https://codecov.io/gh/yonger0718/aws-cqrs-test/graph/badge.svg?token=JH9SFXB4YR)](https://codecov.io/gh/yonger0718/aws-cqrs-test)
[![Python Version](https://img.shields.io/badge/python-3.12-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Architecture](https://img.shields.io/badge/architecture-CQRS+Hexagonal-purple.svg)](docs/architecture/cqrs-hexagonal-design.md)

> **å…­é‚Šå½¢æ¶æ§‹ + CQRS æ¨¡å¼** çš„ä¼æ¥­ç´šæ¨æ’­é€šçŸ¥ç³»çµ±ï¼Œä½¿ç”¨ LocalStack æ¨¡æ“¬ AWS ç’°å¢ƒ

## ğŸ¯ å°ˆæ¡ˆæ¦‚è¿°

æœ¬å°ˆæ¡ˆå±•ç¤ºäº†ç¾ä»£å¾®æœå‹™æ¶æ§‹çš„æœ€ä½³å¯¦è¸ï¼Œå¯¦ç¾äº†å®Œæ•´çš„ä¼æ¥­ç´šè§£æ±ºæ–¹æ¡ˆï¼š

- **ğŸ—ï¸ å…­é‚Šå½¢æ¶æ§‹ (Hexagonal Architecture)**: Domain-Driven Design çš„æ¸…æ™°é ˜åŸŸåˆ†é›¢
- **ğŸ“Š CQRS æ¨¡å¼ (Command Query Responsibility Segregation)**: å®Œæ•´çš„è®€å¯«åˆ†é›¢å¯¦ç¾
- **ğŸ”„ äº‹ä»¶é©…å‹•æ¶æ§‹**: DynamoDB Stream é©…å‹•çš„ç•°æ­¥è³‡æ–™åŒæ­¥
- **ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²**: Docker Compose ä¸€éµå•Ÿå‹•å®Œæ•´ç’°å¢ƒ
- **ğŸ§ª å®Œæ•´æ¸¬è©¦è¦†è“‹**: é«˜ä»£ç¢¼è¦†è“‹ç‡ + æ•´åˆæ¸¬è©¦ + ç«¯åˆ°ç«¯æ¸¬è©¦
- **ğŸ” ä¾è³´æ³¨å…¥**: FastAPI åŸç”Ÿä¾è³´æ³¨å…¥ç³»çµ±
- **ğŸ“ API æ–‡æª”**: è‡ªå‹•ç”Ÿæˆçš„ OpenAPI/Swagger æ–‡æª”
- **ğŸ“¦ Poetry ä¾è³´ç®¡ç†**: ç¾ä»£åŒ–çš„ Python ä¾è³´ç®¡ç†å·¥å…·

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### CQRS + å…­é‚Šå½¢æ¶æ§‹å…¨è²Œ

```txt
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å…­é‚Šå½¢æ¶æ§‹ + CQRS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Command Side  â”‚â”€â”€â”€â–¶â”‚  DynamoDB    â”‚â”€â”€â”€â–¶â”‚   Query Side    â”‚ â”‚
â”‚  â”‚   (Write Path)  â”‚    â”‚   Stream     â”‚    â”‚   (Read Path)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                      â”‚                      â”‚       â”‚
â”‚           â–¼                      â–¼                      â–¼       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚ command-    â”‚      â”‚   Stream    â”‚      â”‚notification-â”‚    â”‚
â”‚    â”‚ records     â”‚      â”‚ Processor   â”‚      â”‚ records     â”‚    â”‚
â”‚    â”‚ (Write DB)  â”‚      â”‚  Lambda     â”‚      â”‚ (Read DB)   â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                FastAPI Query Service (å…­é‚Šå½¢æ¶æ§‹)               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                 Web Layer (Presentation)                   â”‚ â”‚
â”‚  â”‚        FastAPI Routes + Request/Response Models            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               Application Layer (Use Cases)                 â”‚ â”‚
â”‚  â”‚            QueryService + ä¾è³´æ³¨å…¥ + æ¥­å‹™é‚è¼¯               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                 Domain Layer (Business)                    â”‚ â”‚
â”‚  â”‚        NotificationRecord + QueryResult + Enums            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚            Infrastructure Layer (Adapters)                 â”‚ â”‚
â”‚  â”‚             LambdaAdapter + Port Interfaces                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç‰¹è‰² ï¿½ï¿½

- **ğŸ”§ é ˜åŸŸæ¨¡å‹é‡æ§‹**: å¼·é¡å‹çš„æ¥­å‹™å¯¦é«”å’Œåƒ¹å€¼å°è±¡
- **ğŸ“® ç«¯å£èˆ‡é©é…å™¨**: æ¸…æ™°çš„æ¥å£åˆ†é›¢å’Œä¾è³´åè½‰
- **ğŸ§ª æ¸¬è©¦èƒ½åŠ›æå‡**: Mock å‹å¥½çš„ä¾è³´æ³¨å…¥æ¶æ§‹
- **ğŸ“Š çµæ§‹åŒ–éŸ¿æ‡‰**: çµ±ä¸€çš„æŸ¥è©¢çµæœæ¨¡å‹
- **ğŸ” API æ–‡æª”è‡ªå‹•åŒ–**: Pydantic æ¨¡å‹é©…å‹•çš„ OpenAPI è¦ç¯„

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```txt
ğŸ“¦ aws-cqrs-test/
â”œâ”€â”€ ğŸ“š docs/                          # ğŸ“– å°ˆæ¡ˆæ–‡æª”
â”‚   â”œâ”€â”€ ğŸ§ª testing/                   # æ¸¬è©¦æŒ‡å—
â”‚   â”œâ”€â”€ ğŸ“– guides/                    # ä½¿ç”¨èªªæ˜
â”‚   â”œâ”€â”€ ğŸ—ï¸ architecture/              # å…­é‚Šå½¢æ¶æ§‹è¨­è¨ˆæ–‡æª”
â”‚   â”‚   â”œâ”€â”€ cqrs-hexagonal-design.md  # CQRS + å…­é‚Šå½¢è¨­è¨ˆè©³è§£
â”‚   â”‚   â””â”€â”€ ecs-migration-guide.md    # ECS é·ç§»æŒ‡å—
â”‚   â”œâ”€â”€ ğŸš€ deployment/                # éƒ¨ç½²æ–‡æª”
â”‚   â”‚   â””â”€â”€ ecs-deployment.md         # ECS éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ ğŸ“¡ api/                       # API æ–‡æª”
â”‚   â”‚   â””â”€â”€ api-changes-v3.md         # V3 API è®Šæ›´èªªæ˜
â”‚   â””â”€â”€ ğŸ“Š project/                   # å°ˆæ¡ˆç¸½çµ
â”œâ”€â”€ ğŸ”§ scripts/                       # ğŸ› ï¸ è…³æœ¬å·¥å…·
â”‚   â”œâ”€â”€ ğŸ§ª testing/                   # æ¸¬è©¦è…³æœ¬
â”‚   â”œâ”€â”€ ğŸ” queries/                   # æŸ¥è©¢å·¥å…·
â”‚   â”œâ”€â”€ âœ… verification/              # é©—è­‰è…³æœ¬
â”‚   â””â”€â”€ ğŸ› ï¸ development/               # é–‹ç™¼å·¥å…·
â”œâ”€â”€ ğŸ“¦ pyproject.toml                 # Poetry ä¾è³´ç®¡ç†é…ç½®
â””â”€â”€ ğŸš€ query-service/                 # ğŸ¯ ä¸»è¦æœå‹™
    â”œâ”€â”€ eks_handler/                  # ğŸ“¡ FastAPI å…­é‚Šå½¢æ¶æ§‹æœå‹™ (ECS å®¹å™¨)
    â”‚   â”œâ”€â”€ main.py                   # å…­é‚Šå½¢æ¶æ§‹å¯¦ç¾
    â”‚   â”œâ”€â”€ Dockerfile                # ECS å®¹å™¨é…ç½®
    â”‚   â””â”€â”€ __init__.py               # é ˜åŸŸæ¨¡å‹å°å‡º
    â”œâ”€â”€ lambdas/                      # âš¡ AWS Lambda å‡½æ•¸
    â”‚   â”œâ”€â”€ query_lambda/             # API Gateway å…¥å£
    â”‚   â”œâ”€â”€ query_result_lambda/      # æŸ¥è©¢è™•ç†é‚è¼¯
    â”‚   â””â”€â”€ stream_processor_lambda/  # CQRS äº‹ä»¶è™•ç†å™¨
    â”‚       â””â”€â”€ app.py                # é ˜åŸŸé©…å‹•çš„ Stream è™•ç†
    â”œâ”€â”€ tests/                        # ğŸ§ª æ¸¬è©¦å¥—ä»¶
    â”œâ”€â”€ infra/                        # ğŸ—ï¸ åŸºç¤è¨­æ–½
    â”‚   â”œâ”€â”€ localstack/               # LocalStack è¨­å®š
    â”‚   â””â”€â”€ terraform/                # Terraform éƒ¨ç½²é…ç½® (ECS)
    â””â”€â”€ docker-compose.yml            # æœ¬åœ°é–‹ç™¼ç’°å¢ƒ
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### âœ… **æ­¥é©Ÿä¸€: ç’°å¢ƒæº–å‚™**

```bash
# ç¢ºä¿å·²å®‰è£ Poetry
curl -sSL https://install.python-poetry.org | python3 -

# å®‰è£å°ˆæ¡ˆä¾è³´
poetry install

# æª¢æŸ¥ç³»çµ±ç’°å¢ƒå’Œä¾è³´
./scripts/verification/verify_system.sh
```

### ğŸ³ **æ­¥é©ŸäºŒ: å•Ÿå‹•æœå‹™**

#### ğŸŒŸ **Docker åŒ–éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰**

```bash
# ä½¿ç”¨æ–°çš„ Docker åŒ– Lambda éƒ¨ç½²
cd query-service
./deploy_docker.sh start    # ä¸€éµå•Ÿå‹•å®Œæ•´ç’°å¢ƒ
./deploy_docker.sh deploy   # éƒ¨ç½² Docker åŒ–çš„ Lambda å‡½æ•¸
./deploy_docker.sh test     # åŸ·è¡Œé›†æˆæ¸¬è©¦
```

#### ğŸ”§ **å‚³çµ±éƒ¨ç½²æ–¹å¼**

```bash
# é‡å•Ÿä¸¦åˆå§‹åŒ–æœå‹™
./scripts/restart_services.sh
```

### âš™ï¸ **æ­¥é©Ÿä¸‰: ä¿®å¾© API Gateway (å¦‚éœ€è¦)**

```bash
# ä¿®å¾© API Gateway é…ç½®
./scripts/fix_api_gateway.sh
```

### ğŸ§ª **æ­¥é©Ÿå››: åŸ·è¡Œæ¸¬è©¦**

```bash
# ä½¿ç”¨ Poetry åŸ·è¡Œ Python æ¸¬è©¦
poetry run pytest

# å¿«é€Ÿç³»çµ±é©—è­‰
./scripts/testing/quick_test.sh

# å®Œæ•´æµç¨‹æ¸¬è©¦
./scripts/testing/test_full_flow.sh
```

### ğŸ” **æ­¥é©Ÿäº”: æŸ¥è©¢æ¸¬è©¦**

```bash
# æŸ¥è©¢æ¸¬è©¦å·¥å…·
./scripts/queries/test_query.sh

# ç°¡åŒ–æŸ¥è©¢å·¥å…·
./scripts/queries/simple_query.sh --all
```

### ğŸ“– **æ­¥é©Ÿå…­: API æ–‡æª”æŸ¥çœ‹**

```bash
# å•Ÿå‹•æœå‹™å¾Œè¨ªå• API æ–‡æª”
# Swagger UI: http://localhost:8000/docs
# ReDoc: http://localhost:8000/redoc
```

## ğŸ“‹ æ¨è–¦æ¸¬è©¦é©—è­‰é †åº

### ğŸ¯ **å®Œæ•´é©—è­‰æµç¨‹ (æ–°ç’°å¢ƒ/é‡å¤§æ›´æ”¹å¾Œ)**

```bash
# 1. ç’°å¢ƒæº–å‚™
poetry install
./scripts/verification/verify_system.sh

# 2. æœå‹™ç®¡ç†
./scripts/restart_services.sh
./scripts/fix_api_gateway.sh

# 3. åŸºæœ¬åŠŸèƒ½é©—è­‰
./scripts/testing/quick_test.sh

# 4. æŸ¥è©¢åŠŸèƒ½æ¸¬è©¦
./scripts/queries/simple_query.sh --all

# 5. CQRS æµç¨‹é©—è­‰
./scripts/testing/test_full_flow.sh

# 6. Python å–®å…ƒèˆ‡æ•´åˆæ¸¬è©¦
poetry run pytest tests/ -v --cov
```

### âš¡ **å¿«é€Ÿé©—è­‰ (æ—¥å¸¸é–‹ç™¼)**

```bash
# å¿«é€Ÿå¥åº·æª¢æŸ¥
./scripts/testing/quick_test.sh

# æŸ¥è©¢åŠŸèƒ½ç¢ºèª
./scripts/queries/simple_query.sh --all

# Python æ¸¬è©¦
poetry run pytest tests/ -v
```

**ğŸ“– è©³ç´°èªªæ˜ï¼š** [æ¸¬è©¦é©—è­‰æŒ‡å—](./docs/testing/VERIFICATION_GUIDE.md)

## ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ **CQRS å¯¦ä½œ**

- âœ… **å‘½ä»¤å´**: `command-records` è¡¨ + DynamoDB Stream
- âœ… **æŸ¥è©¢å´**: `notification-records` è¡¨ + GSI ç´¢å¼•
- âœ… **äº‹ä»¶é©…å‹•**: Stream Processor è‡ªå‹•åŒæ­¥è³‡æ–™
- âœ… **è³‡æ–™è½‰æ›**: é‡å°æŸ¥è©¢æœ€ä½³åŒ–çš„è³‡æ–™çµæ§‹

### ğŸ—ï¸ **å…­é‚Šå½¢æ¶æ§‹å¯¦ä½œ**

- âœ… **é ˜åŸŸå±¤ (Domain)**: ç´”æ¥­å‹™é‚è¼¯ï¼Œç„¡å¤–éƒ¨ä¾è³´
- âœ… **æ‡‰ç”¨å±¤ (Application)**: ç”¨ä¾‹å”èª¿ï¼Œä¾è³´æ³¨å…¥
- âœ… **ç«¯å£ (Ports)**: æŠ½è±¡æ¥å£å®šç¾©
- âœ… **é©é…å™¨ (Adapters)**: å¤–éƒ¨ç³»çµ±æ•´åˆå¯¦ç¾

### ğŸ” **æŸ¥è©¢åŠŸèƒ½**

- ğŸ‘¤ **ç”¨æˆ¶æŸ¥è©¢**: æ ¹æ“š `user_id` æŸ¥è©¢å€‹äººæ¨æ’­è¨˜éŒ„
- ğŸ“¢ **æ´»å‹•æŸ¥è©¢**: æ ¹æ“š `marketing_id` æŸ¥è©¢æ´»å‹•æ¨æ’­çµ±è¨ˆ
- âŒ **å¤±æ•—æŸ¥è©¢**: æ ¹æ“š `transaction_id` æŸ¥è©¢å¤±æ•—è¨˜éŒ„ (ç«¯é»: `/query/fail`)

### ğŸ§ª **æ¸¬è©¦è¦†è“‹**

- âœ… **å–®å…ƒæ¸¬è©¦**: 76% ä»£ç¢¼è¦†è“‹ç‡ (9/9 é€šé)
- âœ… **æ•´åˆæ¸¬è©¦**: 100% é€šéç‡ (8/8 é€šé)
- âœ… **æ•ˆèƒ½æ¸¬è©¦**: API éŸ¿æ‡‰æ™‚é–“ < 10ms
- âœ… **ä¸¦ç™¼æ¸¬è©¦**: æ”¯æ´ 10+ ä¸¦ç™¼è«‹æ±‚

## ğŸ“Š æ¸¬è©¦çµæœ

### æœ€æ–°æ¸¬è©¦ç‹€æ…‹ âœ…

```txt
ğŸ§ª å–®å…ƒæ¸¬è©¦:    âœ… 9/9 é€šé (100%)   â±ï¸ 1.45s   ğŸ“Š 76% è¦†è“‹ç‡
ğŸ”— æ•´åˆæ¸¬è©¦:    âœ… 8/8 é€šé (100%)   â±ï¸ 11.2s
âš¡ æ•ˆèƒ½æ¸¬è©¦:    âœ… éŸ¿æ‡‰æ™‚é–“ 9.72ms
ğŸ”„ CQRS åŒæ­¥:   âœ… 69.2% åŒæ­¥ç‡ (9/13)
ğŸ—ï¸ æ¶æ§‹é©—è­‰:   âœ… å…­é‚Šå½¢æ¶æ§‹å®Œæ•´å¯¦ç¾
ğŸ“¡ API æ–‡æª”:    âœ… OpenAPI 3.0 è‡ªå‹•ç”Ÿæˆ
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### ğŸ–¥ï¸ **å¾Œç«¯æŠ€è¡“**

- **Python 3.12**: ä¸»è¦é–‹ç™¼èªè¨€ + ç¾ä»£é¡å‹æç¤º
- **FastAPI**: é«˜æ•ˆèƒ½ Web æ¡†æ¶ + ä¾è³´æ³¨å…¥
- **Pydantic v2**: æ•¸æ“šé©—è­‰å’Œåºåˆ—åŒ–
- **AWS Lambda**: ç„¡ä¼ºæœå™¨å‡½æ•¸
- **DynamoDB**: NoSQL è³‡æ–™åº« + Stream
- **LocalStack**: AWS æœ¬åœ°æ¨¡æ“¬ç’°å¢ƒ

### ğŸ—ï¸ **æ¶æ§‹æ¨¡å¼**

- **CQRS**: è®€å¯«åˆ†é›¢æ¨¡å¼
- **å…­é‚Šå½¢æ¶æ§‹**: ç«¯å£èˆ‡é©é…å™¨æ¨¡å¼
- **é ˜åŸŸé©…å‹•è¨­è¨ˆ**: æ¥­å‹™é‚è¼¯ç‚ºæ ¸å¿ƒ
- **äº‹ä»¶é©…å‹•**: Stream äº‹ä»¶è™•ç†
- **ä¾è³´æ³¨å…¥**: æ¾è€¦åˆè¨­è¨ˆ

### ğŸ§ª **æ¸¬è©¦æŠ€è¡“**

- **pytest**: æ¸¬è©¦æ¡†æ¶
- **coverage**: è¦†è“‹ç‡æ¸¬è©¦
- **unittest.mock**: æ¨¡æ“¬æ¸¬è©¦
- **TestClient**: API æ¸¬è©¦
- **Hypothesis**: å±¬æ€§æ¸¬è©¦

### ğŸ³ **DevOps å·¥å…·**

- **Docker Compose**: å®¹å™¨ç·¨æ’
- **Bash/Shell**: è‡ªå‹•åŒ–è…³æœ¬
- **GitHub Actions**: CI/CD æµæ°´ç·š
- **pre-commit**: ä»£ç¢¼å“è³ªæª¢æŸ¥

## ğŸ“š æ–‡æª”å°è¦½

### ğŸ¯ **æ–°æ‰‹å…¥é–€**

1. ğŸ“– [æœ€çµ‚ä½¿ç”¨æŒ‡å—](./docs/guides/FINAL_USAGE_GUIDE.md) - å®Œæ•´çš„ä½¿ç”¨èªªæ˜
2. ğŸ§ª [å¿«é€Ÿæ¸¬è©¦æŒ‡å—](./docs/testing/QUICK_TEST_GUIDE.md) - 5 åˆ†é˜å¿«é€Ÿé©—è­‰

### ğŸ—ï¸ **æ¶æ§‹ç†è§£**

1. ğŸ—ï¸ [CQRS æˆåŠŸå¯¦ä½œ](./docs/architecture/CQRS_SUCCESS.md) - æ¶æ§‹è¨­è¨ˆè©³è§£
2. ğŸ“‹ [æŸ¥è©¢æœå‹™éœ€æ±‚](./docs/architecture/query_service_requirements_v2.md) - éœ€æ±‚è¦æ ¼

### ğŸ”§ **é–‹ç™¼åƒè€ƒ**

1. ğŸ§ª [æ¸¬è©¦æŒ‡å—](./docs/testing/TESTING_GUIDE.md) - å®Œæ•´æ¸¬è©¦èªªæ˜
2. ğŸ” [æ‰‹å‹•æŸ¥è©¢æŒ‡å—](./docs/guides/MANUAL_QUERY_GUIDE.md) - æŸ¥è©¢å·¥å…·ä½¿ç”¨

### ğŸ“Š **å°ˆæ¡ˆç¸½çµ**

1. ğŸ“Š [å°ˆæ¡ˆé–‹ç™¼ç¸½çµ](./docs/project/PROJECT_SUMMARY.md) - é–‹ç™¼æ­·ç¨‹å›é¡§
2. ğŸ‰ [æˆåŠŸå¯¦ä½œç¸½çµ](./docs/project/SUCCESS_SUMMARY.md) - æˆæœå±•ç¤º

## ğŸ”§ è…³æœ¬å·¥å…·

### ğŸ§ª **æ¸¬è©¦å·¥å…·**

```bash
./scripts/testing/quick_test.sh       # å¿«é€Ÿæ¸¬è©¦
./scripts/testing/test_full_flow.sh   # å®Œæ•´æµç¨‹æ¸¬è©¦
./scripts/testing/test_coverage.sh    # æ¸¬è©¦è¦†è“‹ç‡å ±å‘Š â­ æ–°å¢
```

### ğŸ” **æŸ¥è©¢å·¥å…·**

```bash
./scripts/queries/test_query.sh       # æŸ¥è©¢æ¸¬è©¦å·¥å…·
./scripts/queries/simple_query.sh     # ç°¡åŒ–æŸ¥è©¢å·¥å…·
```

### âœ… **é©—è­‰å·¥å…·**

```bash
./scripts/verification/verify_system.sh  # ç³»çµ±é©—è­‰
```

### ğŸ› ï¸ **é–‹ç™¼å·¥å…·**

```bash
./scripts/restart_services.sh        # æœå‹™é‡å•Ÿ
./scripts/fix_api_gateway.sh         # API Gateway ä¿®å¾©
python scripts/development/simulate_writes.py  # è³‡æ–™æ¨¡æ“¬
```

### ğŸ§ª **Python æ¸¬è©¦ (åœ¨ query-service ç›®éŒ„)**

```bash
pytest tests/test_eks_handler.py -v     # å–®å…ƒæ¸¬è©¦
pytest tests/test_integration.py -v -s  # æ•´åˆæ¸¬è©¦
pytest tests/ --cov=. --cov-report=html # è¦†è“‹ç‡æ¸¬è©¦
```

## ğŸ‰ å°ˆæ¡ˆæˆæœ

### âœ… **æŠ€è¡“æˆå°±**

- ğŸ—ï¸ æˆåŠŸå¯¦ä½œå…­é‚Šå½¢æ¶æ§‹ + CQRS æ¨¡å¼
- ğŸ“ˆ Python 3.9 â†’ 3.12 å‡ç´š (10-15% æ•ˆèƒ½æå‡)
- ğŸ§ª å»ºç«‹å®Œæ•´çš„æ¸¬è©¦åŸºç¤è¨­æ–½
- ğŸ”„ å¯¦ç¾äº‹ä»¶é©…å‹•çš„è³‡æ–™åŒæ­¥
- ğŸ“Š é”åˆ° 76% çš„æ¸¬è©¦è¦†è“‹ç‡

### ğŸ’» **é–‹ç™¼æˆæœ**

- ğŸ”§ å»ºç«‹ 15+ å€‹è‡ªå‹•åŒ–è…³æœ¬
- ğŸ“š æ’°å¯« 12+ ä»½æŠ€è¡“æ–‡æª”
- ğŸ”„ è¨­ç½® CI/CD æµæ°´ç·š
- ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆ

### ğŸ“ˆ **æ•ˆèƒ½æŒ‡æ¨™**

- âš¡ API éŸ¿æ‡‰æ™‚é–“: < 10ms
- ğŸ”„ CQRS åŒæ­¥ç‡: 69.2%
- ğŸ§ª æ¸¬è©¦é€šéç‡: 100%
- ğŸ“Š ä»£ç¢¼è¦†è“‹ç‡: 76%

## ğŸ”— ç›¸é—œé€£çµ

- ğŸ“š [å®Œæ•´æ–‡æª”](./docs/) - æ‰€æœ‰å°ˆæ¡ˆæ–‡æª”
- ğŸ”§ [è…³æœ¬å·¥å…·](./scripts/) - è‡ªå‹•åŒ–å·¥å…·é›†
- ğŸš€ [ä¸»è¦æœå‹™](./query-service/) - æ ¸å¿ƒç¨‹å¼ç¢¼
- ğŸ—ï¸ [æ¶æ§‹åœ–è§£](./docs/architecture/CQRS_SUCCESS.md) - è¦–è¦ºåŒ–æ¶æ§‹èªªæ˜

---

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹åƒè€ƒï¼š

1. ğŸ“‹ [æ•…éšœæ’é™¤æŒ‡å—](./docs/testing/VERIFICATION_GUIDE.md)
2. ğŸ”§ [è…³æœ¬ä½¿ç”¨èªªæ˜](./scripts/README.md)
3. ğŸ“š [å®Œæ•´æ–‡æª”ç´¢å¼•](./docs/README.md)

**äº«å—æ¢ç´¢ç¾ä»£å¾®æœå‹™æ¶æ§‹çš„æ—…ç¨‹ï¼** ğŸš€
